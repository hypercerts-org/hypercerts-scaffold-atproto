{"id":"hypercerts-b08","title":"Epic: Fix creation flow step numbering and profile picture blank after update","description":"Two UI bugs need fixing: (1) The creation flow shows 'Step X of 6' in form components but only 5 steps exist (Contributions step was commented out). The stepper sidebar is correct at 5 steps but the hardcoded stepLabel props in each form and skeleton are stale. (2) After updating a profile picture, the image goes blank because the API returns raw blob URLs instead of CDN-converted URLs. On page refresh it works because the server component applies convertBlobUrlToCdn(). Success looks like: step labels all say 'of 5' consistently, and profile picture remains visible immediately after save without requiring a refresh.","status":"open","priority":1,"issue_type":"epic","assignee":"karma.gainforest.id","owner":"karma.gainforest.id","created_at":"2026-02-17T16:30:02.626885397+06:00","created_by":"karma.gainforest.id","updated_at":"2026-02-17T16:30:02.626885397+06:00"}
{"id":"hypercerts-b08.1","title":"Fix hardcoded step labels in creation flow forms and skeletons","description":"## Files\n- components/evidence-form.tsx (modify)\n- components/locations-form.tsx (modify)\n- components/measurement-form.tsx (modify)\n- components/evaluation-form.tsx (modify)\n- components/contributions-form.tsx (modify)\n- components/form-skeletons.tsx (modify)\n\n## What to do\nThe Contributions step (originally step 2) was commented out in app/hypercerts/create/page.tsx while the SDK stabilizes. The stepper sidebar in edit-cert-stepper.tsx correctly defines 5 steps, but the individual form components still have hardcoded stepLabel props saying \"of 6\" with wrong step numbers.\n\nUpdate the stepLabel prop in each form component to match the current 5-step flow:\n\n1. **evidence-form.tsx** line ~211: change `stepLabel=\"Step 3 of 6\"` → `stepLabel=\"Step 2 of 5\"`\n2. **locations-form.tsx** line ~113: change `stepLabel=\"Step 4 of 6\"` → `stepLabel=\"Step 3 of 5\"`\n3. **measurement-form.tsx** line ~291: change `stepLabel=\"Step 5 of 6\"` → `stepLabel=\"Step 4 of 5\"`\n4. **evaluation-form.tsx** line ~188: change `stepLabel=\"Step 6 of 6\"` → `stepLabel=\"Step 5 of 5\"`\n5. **contributions-form.tsx** line ~136: change `stepLabel=\"Step 2 of 6\"` → `stepLabel=\"Step 2 of 6\"` (leave as-is since it is commented out, but add a TODO comment: `// TODO: update stepLabel when contributions step is re-enabled`)\n6. **form-skeletons.tsx**: Update all skeleton stepLabels to match:\n   - ContributionFormSkeleton (~line 119): leave as-is (commented out step) but add TODO\n   - EvidenceFormSkeleton (~line 153): ensure says \"Step 2 of 5\"\n   - LocationFormSkeleton (~line 205): ensure says \"Step 3 of 5\"\n   - MeasurementFormSkeleton (~line 252): ensure says \"Step 4 of 5\"\n   - EvaluationFormSkeleton (~line 302): ensure says \"Step 5 of 5\"\n\n## Dont\n- Do NOT change the STEPS array in edit-cert-stepper.tsx (it is already correct)\n- Do NOT uncomment or re-enable the contributions step\n- Do NOT change the step state logic in app/hypercerts/create/page.tsx\n- Do NOT refactor stepLabel to be dynamic — just fix the hardcoded strings for now","acceptance_criteria":"All 4 active form components show correct step labels: \"Step 2 of 5\", \"Step 3 of 5\", \"Step 4 of 5\", \"Step 5 of 5\". All 4 active skeleton components match. No form says \"of 6\". The app builds without errors (npm run build or next build succeeds).","status":"open","priority":1,"issue_type":"task","assignee":"karma.gainforest.id","owner":"karma.gainforest.id","estimated_minutes":30,"created_at":"2026-02-17T16:30:19.833303835+06:00","created_by":"karma.gainforest.id","updated_at":"2026-02-17T16:30:19.833303835+06:00","labels":["scope:small"],"dependencies":[{"issue_id":"hypercerts-b08.1","depends_on_id":"hypercerts-b08","type":"parent-child","created_at":"2026-02-17T16:30:19.835388129+06:00","created_by":"karma.gainforest.id"}]}
{"id":"hypercerts-b08.2","title":"Fix profile picture going blank after update by applying CDN URL conversion","description":"## Files\n- app/api/profile/update/route.ts (modify)\n- app/api/profile/bsky/update/route.ts (modify)\n- providers/SignedInProvider.tsx (modify)\n\n## What to do\nAfter a profile picture update, the image goes blank because the API response returns raw blob URLs (e.g. XRPC getBlob URLs from PDS hosts) that are not in Next.js allowed remotePatterns. The server-side profile page (app/profile/page.tsx) correctly applies `convertBlobUrlToCdn()` from `lib/utils.ts` before passing URLs as props, but the API routes do not.\n\n### Fix 1: app/api/profile/update/route.ts\nAround lines 99-115, the route fetches the updated profile and returns avatar/banner URLs. Currently:\n```ts\nconst avatarUrl = updated?.avatar || \"\";\nconst bannerUrl = updated?.banner || \"\";\n```\nChange to:\n```ts\nimport { convertBlobUrlToCdn } from \"@/lib/utils\";\n// ...\nconst avatarUrl = convertBlobUrlToCdn(updated?.avatar) || \"\";\nconst bannerUrl = convertBlobUrlToCdn(updated?.banner) || \"\";\n```\n\n### Fix 2: app/api/profile/bsky/update/route.ts\nSame pattern — find where avatar and banner URLs are returned (around lines 86-87) and apply `convertBlobUrlToCdn()` to both.\n\n### Fix 3: providers/SignedInProvider.tsx\nAround line 30, the Navbar avatar URL is set from the raw profile:\n```ts\navatarUrl = profile?.avatar;\n```\nChange to:\n```ts\nimport { convertBlobUrlToCdn } from \"@/lib/utils\";\n// ...\navatarUrl = convertBlobUrlToCdn(profile?.avatar) || \"\";\n```\n\n## Dont\n- Do NOT change the convertBlobUrlToCdn function itself\n- Do NOT modify the profile-form.tsx onSuccess handler (the fix should come from the API returning correct URLs)\n- Do NOT modify app/profile/page.tsx (it already works correctly)\n- Do NOT add new entries to next.config.ts remotePatterns — the CDN URL conversion is the correct approach\n- Do NOT change the ImageUploader component","acceptance_criteria":"After updating a profile picture on the /profile page, the new image remains visible immediately without requiring a page refresh. The Navbar avatar also updates correctly. The app builds without errors (npm run build or next build succeeds). Verify that convertBlobUrlToCdn is imported and applied in all three files.","status":"open","priority":1,"issue_type":"task","assignee":"karma.gainforest.id","owner":"karma.gainforest.id","estimated_minutes":30,"created_at":"2026-02-17T16:30:30.574689694+06:00","created_by":"karma.gainforest.id","updated_at":"2026-02-17T16:30:30.574689694+06:00","labels":["scope:small"],"dependencies":[{"issue_id":"hypercerts-b08.2","depends_on_id":"hypercerts-b08","type":"parent-child","created_at":"2026-02-17T16:30:30.577364056+06:00","created_by":"karma.gainforest.id"}]}
{"id":"hypercerts-jw5","title":"Epic: Remove all SDS references and organization features","description":"Remove all Shared Data Server (SDS) infrastructure and organization-related features from the codebase. This includes environment configuration, type definitions, organization pages/components/queries, profile switching, and all related documentation. The application will only support PDS (Personal Data Server) going forward.","status":"closed","priority":1,"issue_type":"epic","assignee":"kzoeps","owner":"kzoepa@gmail.com","created_at":"2026-02-13T10:57:19.625374856+06:00","created_by":"kzoeps","updated_at":"2026-02-13T11:08:54.570180551+06:00","closed_at":"2026-02-13T11:08:54.570180551+06:00","close_reason":"Completed: All SDS references and organization features removed"}
{"id":"hypercerts-jw5.1","title":"Remove SDS from environment configuration","description":"Remove NEXT_PUBLIC_SDS_URL environment variable from .env.example and .env.local. Remove sdsUrl field and validation from lib/config.ts (lines 194, 210, 236). Files affected: .env.example (lines 52-53), .env.local (line 20), lib/config.ts (lines 194, 210, 236).","status":"closed","priority":1,"issue_type":"task","assignee":"kzoeps","owner":"kzoepa@gmail.com","created_at":"2026-02-13T10:57:25.0772292+06:00","created_by":"kzoeps","updated_at":"2026-02-13T11:01:21.906727001+06:00","closed_at":"2026-02-13T11:01:21.906727001+06:00","close_reason":"Completed: 970322f3161f84168f0130778997293b3c3cc853","dependencies":[{"issue_id":"hypercerts-jw5.1","depends_on_id":"hypercerts-jw5","type":"parent-child","created_at":"2026-02-13T10:57:25.078964487+06:00","created_by":"kzoeps"}]}
{"id":"hypercerts-jw5.10","title":"Remove profile switching dialog","description":"Delete components/profile-switch-dialog.tsx entirely. Remove this component from any layouts or pages that import it (likely in app/layout.tsx or similar). Remove the SignedInProvider usage from providers/SignedInProvider.tsx (line 27) that fetches organization data with getAuthenticatedRepo('sds'). This task depends on hypercerts-jw5.3 (session management) because the provider uses serverOverride.","status":"closed","priority":1,"issue_type":"task","assignee":"kzoeps","owner":"kzoepa@gmail.com","created_at":"2026-02-13T10:58:14.830834235+06:00","created_by":"kzoeps","updated_at":"2026-02-13T11:06:47.965297704+06:00","closed_at":"2026-02-13T11:06:47.965297704+06:00","close_reason":"Completed: af38f1b","dependencies":[{"issue_id":"hypercerts-jw5.10","depends_on_id":"hypercerts-jw5","type":"parent-child","created_at":"2026-02-13T10:58:14.832712721+06:00","created_by":"kzoeps"},{"issue_id":"hypercerts-jw5.10","depends_on_id":"hypercerts-jw5.3","type":"blocks","created_at":"2026-02-13T10:58:36.962725875+06:00","created_by":"kzoeps"}]}
{"id":"hypercerts-jw5.11","title":"Update repo context to handle PDS only","description":"Simplify lib/repo-context.ts to only handle PDS. Remove the server determination logic at line 61 (targetDid === userDid ? 'pds' : 'sds'). Remove RepoServer type field from interfaces if no longer needed. This task depends on hypercerts-jw5.2 (type definitions) and hypercerts-jw5.3 (session management) because we need the core types and session logic updated first.","status":"closed","priority":1,"issue_type":"task","assignee":"kzoeps","owner":"kzoepa@gmail.com","created_at":"2026-02-13T10:58:20.278269871+06:00","created_by":"kzoeps","updated_at":"2026-02-13T11:06:32.355814639+06:00","closed_at":"2026-02-13T11:06:32.355814639+06:00","close_reason":"Completed: 024d9b8b1dfe9cd5b49a45aeb7cae96cc95e2667","dependencies":[{"issue_id":"hypercerts-jw5.11","depends_on_id":"hypercerts-jw5","type":"parent-child","created_at":"2026-02-13T10:58:20.279708313+06:00","created_by":"kzoeps"},{"issue_id":"hypercerts-jw5.11","depends_on_id":"hypercerts-jw5.2","type":"blocks","created_at":"2026-02-13T10:58:37.013357307+06:00","created_by":"kzoeps"},{"issue_id":"hypercerts-jw5.11","depends_on_id":"hypercerts-jw5.3","type":"blocks","created_at":"2026-02-13T10:58:37.06325177+06:00","created_by":"kzoeps"}]}
{"id":"hypercerts-jw5.12","title":"Clean up organization query keys","description":"Remove organization-related query key definitions from lib/api/query-keys.ts (lines 41-48). This task depends on hypercerts-jw5.7 (delete organization queries) because we need to ensure no queries are using these keys before removing them.","status":"closed","priority":1,"issue_type":"task","assignee":"kzoeps","owner":"kzoepa@gmail.com","created_at":"2026-02-13T10:58:24.864366819+06:00","created_by":"kzoeps","updated_at":"2026-02-13T11:05:14.468657802+06:00","closed_at":"2026-02-13T11:05:14.468657802+06:00","close_reason":"Completed: 2e96aef","dependencies":[{"issue_id":"hypercerts-jw5.12","depends_on_id":"hypercerts-jw5","type":"parent-child","created_at":"2026-02-13T10:58:24.866971645+06:00","created_by":"kzoeps"},{"issue_id":"hypercerts-jw5.12","depends_on_id":"hypercerts-jw5.7","type":"blocks","created_at":"2026-02-13T10:58:37.11335342+06:00","created_by":"kzoeps"}]}
{"id":"hypercerts-jw5.13","title":"Update README to remove SDS documentation","description":"Remove all SDS references from README.md: line 10 (PDS/SDS account mention), line 45 (environment variable table entry), line 63 (test server URL example), lines 119-127 (architecture diagram and PDS vs SDS explanation), line 196 (organizations on SDS mention), line 254 (link to SDS GitHub repo). Update documentation to reflect PDS-only architecture. This task depends on all previous tasks (hypercerts-jw5.1 through hypercerts-jw5.12) because documentation should be updated last after all code changes are complete.","status":"closed","priority":1,"issue_type":"task","assignee":"kzoeps","owner":"kzoepa@gmail.com","created_at":"2026-02-13T10:58:31.437345428+06:00","created_by":"kzoeps","updated_at":"2026-02-13T11:08:36.620756909+06:00","closed_at":"2026-02-13T11:08:36.620756909+06:00","close_reason":"Completed: README already updated by previous commits","dependencies":[{"issue_id":"hypercerts-jw5.13","depends_on_id":"hypercerts-jw5","type":"parent-child","created_at":"2026-02-13T10:58:31.438988373+06:00","created_by":"kzoeps"},{"issue_id":"hypercerts-jw5.13","depends_on_id":"hypercerts-jw5.1","type":"blocks","created_at":"2026-02-13T10:58:42.980883411+06:00","created_by":"kzoeps"},{"issue_id":"hypercerts-jw5.13","depends_on_id":"hypercerts-jw5.2","type":"blocks","created_at":"2026-02-13T10:58:43.031383969+06:00","created_by":"kzoeps"},{"issue_id":"hypercerts-jw5.13","depends_on_id":"hypercerts-jw5.3","type":"blocks","created_at":"2026-02-13T10:58:43.083619404+06:00","created_by":"kzoeps"},{"issue_id":"hypercerts-jw5.13","depends_on_id":"hypercerts-jw5.4","type":"blocks","created_at":"2026-02-13T10:58:43.135155641+06:00","created_by":"kzoeps"},{"issue_id":"hypercerts-jw5.13","depends_on_id":"hypercerts-jw5.5","type":"blocks","created_at":"2026-02-13T10:58:43.197015061+06:00","created_by":"kzoeps"},{"issue_id":"hypercerts-jw5.13","depends_on_id":"hypercerts-jw5.6","type":"blocks","created_at":"2026-02-13T10:58:43.246763992+06:00","created_by":"kzoeps"},{"issue_id":"hypercerts-jw5.13","depends_on_id":"hypercerts-jw5.7","type":"blocks","created_at":"2026-02-13T10:58:43.295935142+06:00","created_by":"kzoeps"},{"issue_id":"hypercerts-jw5.13","depends_on_id":"hypercerts-jw5.8","type":"blocks","created_at":"2026-02-13T10:58:43.345300956+06:00","created_by":"kzoeps"},{"issue_id":"hypercerts-jw5.13","depends_on_id":"hypercerts-jw5.9","type":"blocks","created_at":"2026-02-13T10:58:43.395508806+06:00","created_by":"kzoeps"},{"issue_id":"hypercerts-jw5.13","depends_on_id":"hypercerts-jw5.10","type":"blocks","created_at":"2026-02-13T10:58:43.443782516+06:00","created_by":"kzoeps"},{"issue_id":"hypercerts-jw5.13","depends_on_id":"hypercerts-jw5.11","type":"blocks","created_at":"2026-02-13T10:58:43.492942164+06:00","created_by":"kzoeps"},{"issue_id":"hypercerts-jw5.13","depends_on_id":"hypercerts-jw5.12","type":"blocks","created_at":"2026-02-13T10:58:43.545747096+06:00","created_by":"kzoeps"}]}
{"id":"hypercerts-jw5.2","title":"Update type definitions to remove SDS","description":"Change RepoServer type from 'pds' | 'sds' to just 'pds' in lib/repo-context.ts (line 8). Remove serverOverride parameter type that includes 'sds' from lib/atproto-session.ts (line 8). Update all type usage to reflect PDS-only infrastructure. Files affected: lib/repo-context.ts (lines 8, 23, 30, 61), lib/atproto-session.ts (lines 8, 19).","status":"closed","priority":1,"issue_type":"task","assignee":"kzoeps","owner":"kzoepa@gmail.com","created_at":"2026-02-13T10:57:31.387671487+06:00","created_by":"kzoeps","updated_at":"2026-02-13T11:01:52.916414734+06:00","closed_at":"2026-02-13T11:01:52.916414734+06:00","close_reason":"Completed: 7cb57ff4f0e9545e9fd8b27d194de5236d269061","dependencies":[{"issue_id":"hypercerts-jw5.2","depends_on_id":"hypercerts-jw5","type":"parent-child","created_at":"2026-02-13T10:57:31.390035933+06:00","created_by":"kzoeps"}]}
{"id":"hypercerts-jw5.3","title":"Simplify session management by removing SDS logic","description":"Remove serverOverride parameter from getAuthenticatedRepo function in lib/atproto-session.ts (line 8). Remove server determination logic that defaults organizations to SDS (lines 19-26). Simplify to always use PDS. Remove comment about SDS default for organizations (line 23). This task depends on hypercerts-jw5.2 (type definition updates) because we need the types updated first.","status":"closed","priority":1,"issue_type":"task","assignee":"kzoeps","owner":"kzoepa@gmail.com","created_at":"2026-02-13T10:57:36.812241339+06:00","created_by":"kzoeps","updated_at":"2026-02-13T11:03:28.27736993+06:00","closed_at":"2026-02-13T11:03:28.27736993+06:00","close_reason":"Completed: f904aed717e18e851fcd2d6e590836fa9b7dc689","dependencies":[{"issue_id":"hypercerts-jw5.3","depends_on_id":"hypercerts-jw5","type":"parent-child","created_at":"2026-02-13T10:57:36.814164408+06:00","created_by":"kzoeps"},{"issue_id":"hypercerts-jw5.3","depends_on_id":"hypercerts-jw5.2","type":"blocks","created_at":"2026-02-13T10:58:36.651339481+06:00","created_by":"kzoeps"}]}
{"id":"hypercerts-jw5.4","title":"Update SDK initialization to remove SDS","description":"Remove 'sds: config.sdsUrl' from SDK server configuration in lib/hypercerts-sdk.ts (line 39). Update SDK initialization to only use PDS. This task depends on hypercerts-jw5.1 (environment config removal) because we need config.sdsUrl removed first.","status":"closed","priority":1,"issue_type":"task","assignee":"kzoeps","owner":"kzoepa@gmail.com","created_at":"2026-02-13T10:57:41.609155705+06:00","created_by":"kzoeps","updated_at":"2026-02-13T11:03:51.936722151+06:00","closed_at":"2026-02-13T11:03:51.936722151+06:00","close_reason":"Completed: 0ee8d8c967f42b720a0203022ce99e33647cb12a","dependencies":[{"issue_id":"hypercerts-jw5.4","depends_on_id":"hypercerts-jw5","type":"parent-child","created_at":"2026-02-13T10:57:41.611008192+06:00","created_by":"kzoeps"},{"issue_id":"hypercerts-jw5.4","depends_on_id":"hypercerts-jw5.1","type":"blocks","created_at":"2026-02-13T10:58:36.701434689+06:00","created_by":"kzoeps"}]}
{"id":"hypercerts-jw5.5","title":"Delete organization pages","description":"Delete the entire app/organizations/ directory, which includes: page.tsx (organization list), [orgDid]/page.tsx (organization detail), create/page.tsx (create organization), create/layout.tsx, loading.tsx, and [orgDid]/loading.tsx. This task depends on hypercerts-jw5.3 (session management simplification) because those files use the serverOverride parameter that will be removed.","status":"closed","priority":1,"issue_type":"task","assignee":"kzoeps","owner":"kzoepa@gmail.com","created_at":"2026-02-13T10:57:46.81007388+06:00","created_by":"kzoeps","updated_at":"2026-02-13T11:04:11.172066695+06:00","closed_at":"2026-02-13T11:04:11.172066695+06:00","close_reason":"Completed: 3428fe02f55fe17c9193be3d78e01b24903474a5","dependencies":[{"issue_id":"hypercerts-jw5.5","depends_on_id":"hypercerts-jw5","type":"parent-child","created_at":"2026-02-13T10:57:46.811920897+06:00","created_by":"kzoeps"},{"issue_id":"hypercerts-jw5.5","depends_on_id":"hypercerts-jw5.3","type":"blocks","created_at":"2026-02-13T10:58:36.75669208+06:00","created_by":"kzoeps"}]}
{"id":"hypercerts-jw5.6","title":"Delete organization components","description":"Delete organization-related components: components/organization-form.tsx, components/organization-detail-view.tsx, components/organization-creation-success.tsx, components/collaborators-list-view.tsx, components/add-contributors-form.tsx. Remove any imports of these components from other files. This task can run in parallel with hypercerts-jw5.5 (delete pages) since they are independent.","status":"closed","priority":1,"issue_type":"task","assignee":"kzoeps","owner":"kzoepa@gmail.com","created_at":"2026-02-13T10:57:52.089516982+06:00","created_by":"kzoeps","updated_at":"2026-02-13T11:02:17.815171991+06:00","closed_at":"2026-02-13T11:02:17.815171991+06:00","close_reason":"Completed: 4299fe74ca5d3a6bc7dcd16db4478e21495c7e5c","dependencies":[{"issue_id":"hypercerts-jw5.6","depends_on_id":"hypercerts-jw5","type":"parent-child","created_at":"2026-02-13T10:57:52.091170987+06:00","created_by":"kzoeps"}]}
{"id":"hypercerts-jw5.7","title":"Delete organization queries","description":"Delete the entire queries/organizations/ directory, which includes use-check-handle-query.ts and index.ts. Also remove checkHandleAvailability function from lib/api/external/bluesky.ts (lines 42-60) that checks handle availability on SDS server. This task can run in parallel with hypercerts-jw5.5 and hypercerts-jw5.6.","status":"closed","priority":1,"issue_type":"task","assignee":"kzoeps","owner":"kzoepa@gmail.com","created_at":"2026-02-13T10:57:57.491629768+06:00","created_by":"kzoeps","updated_at":"2026-02-13T11:02:44.401504275+06:00","closed_at":"2026-02-13T11:02:44.401504275+06:00","close_reason":"Completed: f20bf2f4eb234d67c9e06a9b71b103be938c90f9","dependencies":[{"issue_id":"hypercerts-jw5.7","depends_on_id":"hypercerts-jw5","type":"parent-child","created_at":"2026-02-13T10:57:57.493747823+06:00","created_by":"kzoeps"}]}
{"id":"hypercerts-jw5.8","title":"Remove organization operations from create-actions","description":"Remove organization-related functions from lib/create-actions.ts: lines 202 (create org with serverOverride), 214 (add collaborators), 232 (remove collaborators), 246 (list organizations). This task depends on hypercerts-jw5.3 (session management) because these functions use serverOverride parameter.","status":"closed","priority":1,"issue_type":"task","assignee":"kzoeps","owner":"kzoepa@gmail.com","created_at":"2026-02-13T10:58:02.724974343+06:00","created_by":"kzoeps","updated_at":"2026-02-13T11:07:24.646163697+06:00","closed_at":"2026-02-13T11:07:24.646163697+06:00","close_reason":"Completed: 8b6439f","dependencies":[{"issue_id":"hypercerts-jw5.8","depends_on_id":"hypercerts-jw5","type":"parent-child","created_at":"2026-02-13T10:58:02.726703099+06:00","created_by":"kzoeps"},{"issue_id":"hypercerts-jw5.8","depends_on_id":"hypercerts-jw5.3","type":"blocks","created_at":"2026-02-13T10:58:36.812943121+06:00","created_by":"kzoeps"}]}
{"id":"hypercerts-jw5.9","title":"Simplify blob utilities to remove SDS URL handling","description":"Remove SDS URL handling from lib/blob-utils.ts (line 25) - simplify blob URL resolution to only use PDS. Remove SDS URL usage from app/hypercerts/[hypercertUri]/page.tsx (line 86) for image blob resolution. This task depends on hypercerts-jw5.1 (environment config) and hypercerts-jw5.5 (delete org pages) because we need config cleaned up and no org pages referencing blobs.","status":"closed","priority":1,"issue_type":"task","assignee":"kzoeps","owner":"kzoepa@gmail.com","created_at":"2026-02-13T10:58:09.274201803+06:00","created_by":"kzoeps","updated_at":"2026-02-13T11:07:42.730303409+06:00","closed_at":"2026-02-13T11:07:42.730303409+06:00","close_reason":"Completed: Already cleaned up in previous commits","dependencies":[{"issue_id":"hypercerts-jw5.9","depends_on_id":"hypercerts-jw5","type":"parent-child","created_at":"2026-02-13T10:58:09.276322082+06:00","created_by":"kzoeps"},{"issue_id":"hypercerts-jw5.9","depends_on_id":"hypercerts-jw5.1","type":"blocks","created_at":"2026-02-13T10:58:36.863175646+06:00","created_by":"kzoeps"},{"issue_id":"hypercerts-jw5.9","depends_on_id":"hypercerts-jw5.5","type":"blocks","created_at":"2026-02-13T10:58:36.913677646+06:00","created_by":"kzoeps"}]}
{"id":"hypercerts-nyk","title":"Epic: Add ATProto OAuth CSS branding to scaffold","description":"Port the custom OAuth branding implementation from maearth-app to hypercerts-scaffold. The scaffold uses the same PDS (certified.app) but currently serves bare client metadata with no branding. Goal: when users authenticate via the scaffold in production mode, the PDS OAuth pages show custom branding (logo, colors, 'Sign in with Certified' imagery) instead of default Hypercerts styling. The PDS itself stays neutral — each app injects its own branding via CSS in client metadata. Loopback mode cannot support branding (ATProto spec limitation) so branding only applies in production. Scope: create branding CSS module, update metadata endpoint, add placeholder assets. Out of scope: changing token_endpoint_auth_method, modifying the PDS itself.","status":"open","priority":2,"issue_type":"epic","assignee":"karma.gainforest.id","owner":"karma.gainforest.id","created_at":"2026-02-16T12:29:31.349871338+06:00","created_by":"karma.gainforest.id","updated_at":"2026-02-16T14:25:17.106234809+06:00","labels":["needs-integration-review","scope:medium"]}
{"id":"hypercerts-nyk.1","title":"Create sanitizeUrlForCss utility function","description":"## Files\n- lib/atproto-branding.ts (create)\n\n## What to do\nCreate a new file `lib/atproto-branding.ts`. For now, only add the `sanitizeUrlForCss` function — the CSS generation function will be added in a later task.\n\nCopy the `sanitizeUrlForCss` function from the reference implementation at `maearth-app/src/lib/atproto-branding.ts` (lines 20-45). This function:\n\n1. Takes a URL string as input\n2. Validates it is a proper URL via `new URL()`\n3. Rejects non-http/https protocols\n4. Escapes dangerous CSS characters: backslash, single quote, double quote, closing paren, newlines, carriage returns\n5. Returns the sanitized href string\n\nExport the function (it will be used by `generateBrandingCss` in the next task).\n\n## Dont\n- Do not add the `generateBrandingCss` function yet (separate task)\n- Do not add any CSS strings\n- Do not modify any other files","acceptance_criteria":"1. lib/atproto-branding.ts exists and exports sanitizeUrlForCss\n2. Function throws on invalid URLs (not parseable by new URL())\n3. Function throws on non-http/https protocols (e.g. javascript:, data:)\n4. Function escapes: backslash, single quote, double quote, closing paren, newline, carriage return\n5. Function returns the sanitized URL href for valid http/https URLs\n6. TypeScript compiles without errors","status":"closed","priority":2,"issue_type":"task","assignee":"karma.gainforest.id","owner":"karma.gainforest.id","estimated_minutes":15,"created_at":"2026-02-16T12:29:44.660638545+06:00","created_by":"karma.gainforest.id","updated_at":"2026-02-16T12:36:02.551717428+06:00","closed_at":"2026-02-16T12:36:02.551717428+06:00","close_reason":"9e6630a Create sanitizeUrlForCss utility function","labels":["scope:trivial"],"dependencies":[{"issue_id":"hypercerts-nyk.1","depends_on_id":"hypercerts-nyk","type":"parent-child","created_at":"2026-02-16T12:29:44.661946519+06:00","created_by":"karma.gainforest.id"}]}
{"id":"hypercerts-nyk.2","title":"Create generateBrandingCss function with neutral scaffold theme","description":"## Files\n- lib/atproto-branding.ts (modify)\n\n## What to do\nAdd the `generateBrandingCss(baseUrl: string): string` function to `lib/atproto-branding.ts`. This is the main function that generates ~700 lines of CSS injected into PDS OAuth pages.\n\n**Reference:** Copy the structure from `maearth-app/src/lib/atproto-branding.ts` `generateBrandingCss()` (lines 47-730).\n\n**Function signature:** `export function generateBrandingCss(baseUrl: string): string`\n\n**Parameter:** `baseUrl` — the app base URL (e.g. `https://hypercerts-scaffold.vercel.app`). Used to construct image URLs for logo and branding assets.\n\n**Image URLs to construct (using sanitizeUrlForCss):**\n- Logo: `${baseUrl}/favicon.ico` (placeholder — will be replaced with proper logo later)\n\n**Color mapping — replace Ma Earth colors with scaffold neutral theme:**\n\n| Ma Earth (source) | Scaffold (target) | Usage |\n|---|---|---|\n| #21201F | #2b2d31 | Primary dark (buttons, headings) |\n| #FAF8F6 | #f8f8fa | Primary contrast (button text) |\n| #F2ECE4 | #fafafa | Page background |\n| #1A1715 | #1a1b1e | Dark text |\n| #D4B08A | #4e5058 | Focus rings, accent |\n| #8E6F54 | #757780 | Links, secondary accent |\n| #EAE1D7 | #f0f0f3 | Secondary background |\n| #DDD4C8 | #eaeaed | Hover states |\n| #D4C9BC | #e4e4e8 | Borders |\n| #4C4139 | #4a4b53 | Secondary text |\n| #6B6259 | #5c5d66 | Muted text |\n| #8C8279 | #9a9ba3 | Placeholder text |\n| #B25032 | #e5484d | Error color |\n| #3D6B3D | #2b8a3e | Success color |\n| #D4A84B | #f59f00 | Warning color |\n\n**CSS sections to include (same structure as maearth-app):**\n1. Force light color scheme (`:root` with `--branding-color-*` variables)\n2. Logo replacement (replace Hypercerts logo via background-image trick)\n3. H1 text replacement — use `content: \"Sign in with Certified\"` for now (image replacement will be a follow-up task when SVG assets are provided)\n4. Authenticate page styling\n5. Error/session expiry page styling\n6. Background colors\n7. Text colors\n8. Form inputs\n9. Buttons (primary, secondary, text-only)\n10. Links\n11. Responsive breakpoints (mobile ≤767px, tablet ≥768px, desktop ≥1024px)\n\n**Key difference from maearth-app:** The function takes `baseUrl` instead of `logoUrl`. Construct the logo URL internally as `${baseUrl}/favicon.ico`.\n\n**Text replacements (keep same as maearth-app for now):**\n- H1: \"Sign in with Certified\"\n- Submit button: \"Sign in with Certified\"\n- Authenticate page button: \"Sign in with Certified\"\n\n## Dont\n- Do not modify any other files\n- Do not change the metadata endpoint yet (separate task)\n- Do not use Ma Earth brown/beige colors — use the neutral blue-gray palette above\n- Do not remove or modify the sanitizeUrlForCss function from the previous task","acceptance_criteria":"1. generateBrandingCss is exported from lib/atproto-branding.ts\n2. Function takes baseUrl string parameter and returns a CSS string\n3. All Ma Earth hex colors are replaced with scaffold neutral equivalents per the mapping table\n4. CSS includes all 10 sections listed (color scheme, logo, H1, authenticate page, error page, backgrounds, text, inputs, buttons, responsive)\n5. Logo URL uses ${baseUrl}/favicon.ico\n6. Text replacements say \"Sign in with Certified\"\n7. All image URLs in CSS are sanitized via sanitizeUrlForCss\n8. TypeScript compiles without errors\n9. Returned CSS string is valid CSS (no syntax errors, all braces matched)","status":"closed","priority":2,"issue_type":"task","assignee":"karma.gainforest.id","owner":"karma.gainforest.id","estimated_minutes":45,"created_at":"2026-02-16T12:30:12.357526519+06:00","created_by":"karma.gainforest.id","updated_at":"2026-02-16T12:40:41.909439729+06:00","closed_at":"2026-02-16T12:40:41.909439729+06:00","close_reason":"4b1e809 Add generateBrandingCss function with neutral scaffold theme","labels":["scope:small"],"dependencies":[{"issue_id":"hypercerts-nyk.2","depends_on_id":"hypercerts-nyk","type":"parent-child","created_at":"2026-02-16T12:30:12.358740596+06:00","created_by":"karma.gainforest.id"},{"issue_id":"hypercerts-nyk.2","depends_on_id":"hypercerts-nyk.1","type":"blocks","created_at":"2026-02-16T12:30:12.361567421+06:00","created_by":"karma.gainforest.id"}]}
{"id":"hypercerts-nyk.3","title":"Add buildClientMetadata function to lib/config.ts","description":"## Files\n- lib/config.ts (modify)\n\n## What to do\nAdd a `buildClientMetadata()` function to `lib/config.ts` that returns the full OAuth client metadata object. This function replaces the inline object currently in `app/client-metadata.json/route.ts`.\n\n**Why:** The metadata endpoint currently builds its response inline. We need a reusable function that conditionally includes branding CSS in production mode.\n\n**Function signature:** `export function buildClientMetadata(): Record\u003cstring, unknown\u003e`\n\n**Behavior:**\n1. If `config.isLoopback` is true (local dev), return metadata WITHOUT branding:\n   ```\n   {\n     client_id: config.clientId,\n     client_name: \"Hypercerts Scaffold\",\n     client_uri: config.baseUrl,\n     redirect_uris: [config.redirectUri],\n     scope: OAUTH_SCOPE,\n     logo_uri: `${config.baseUrl}/favicon.ico`,\n     grant_types: [\"authorization_code\", \"refresh_token\"],\n     response_types: [\"code\"],\n     token_endpoint_auth_method: \"none\",\n     application_type: \"native\",\n     dpop_bound_access_tokens: true,\n   }\n   ```\n\n2. If NOT loopback (production/preview), return metadata WITH branding:\n   ```\n   {\n     client_id: config.clientId,\n     client_name: \"Hypercerts Scaffold\",\n     client_uri: config.baseUrl,\n     redirect_uris: [config.redirectUri],\n     scope: OAUTH_SCOPE,\n     logo_uri: `${config.baseUrl}/favicon.ico`,\n     grant_types: [\"authorization_code\", \"refresh_token\"],\n     response_types: [\"code\"],\n     token_endpoint_auth_method: \"none\",\n     application_type: \"web\",\n     dpop_bound_access_tokens: true,\n     branding: {\n       css: generateBrandingCss(config.baseUrl),\n     },\n   }\n   ```\n\n**Important:** Keep `token_endpoint_auth_method: \"none\"` in BOTH modes. Upgrading to `private_key_jwt` is a separate concern and out of scope for this task.\n\n**Import:** Add `import { generateBrandingCss } from \"./atproto-branding\";` at the top of the file.\n\n**Placement:** Add the function after the `config` export (around line 204), before the env var validation block.\n\n## Dont\n- Do not change token_endpoint_auth_method (keep \"none\" in both modes)\n- Do not modify the config object itself\n- Do not modify the metadata route file (separate task)\n- Do not change any existing functions (isLoopback, getBaseUrl, etc.)\n- Do not remove any existing exports","acceptance_criteria":"1. buildClientMetadata is exported from lib/config.ts\n2. Function returns object with all required OAuth metadata fields\n3. In loopback mode: no branding field, application_type is \"native\"\n4. In non-loopback mode: branding.css field is present with CSS string from generateBrandingCss, application_type is \"web\"\n5. token_endpoint_auth_method is \"none\" in both modes\n6. Import of generateBrandingCss is added\n7. Existing config export and all other functions are unchanged\n8. TypeScript compiles without errors","status":"closed","priority":2,"issue_type":"task","assignee":"karma.gainforest.id","owner":"karma.gainforest.id","estimated_minutes":30,"created_at":"2026-02-16T12:30:29.822673508+06:00","created_by":"karma.gainforest.id","updated_at":"2026-02-16T12:44:53.362497107+06:00","closed_at":"2026-02-16T12:44:53.362497107+06:00","close_reason":"8fda308 Add buildClientMetadata function with conditional branding","labels":["scope:small"],"dependencies":[{"issue_id":"hypercerts-nyk.3","depends_on_id":"hypercerts-nyk","type":"parent-child","created_at":"2026-02-16T12:30:29.824424827+06:00","created_by":"karma.gainforest.id"},{"issue_id":"hypercerts-nyk.3","depends_on_id":"hypercerts-nyk.2","type":"blocks","created_at":"2026-02-16T12:30:29.826498062+06:00","created_by":"karma.gainforest.id"}]}
{"id":"hypercerts-nyk.4","title":"Update client-metadata.json route to use buildClientMetadata","description":"## Files\n- app/client-metadata.json/route.ts (modify)\n\n## What to do\nReplace the inline metadata object in the route handler with a call to `buildClientMetadata()`.\n\n**Current code (replace entirely):**\n```typescript\nimport { config, OAUTH_SCOPE } from \"@/lib/config\";\nimport { NextResponse } from \"next/server\";\n\nexport async function GET() {\n  return NextResponse.json({\n    client_id: config.clientId,\n    client_name: \"Hypercert Scaffold\",\n    client_uri: config.baseUrl,\n    redirect_uris: [config.redirectUri],\n    scope: OAUTH_SCOPE,\n    logo_uri:`${config.baseUrl}/favicon.ico`,\n    grant_types: [\"authorization_code\", \"refresh_token\"],\n    response_types: [\"code\"],\n    token_endpoint_auth_method: \"none\",\n    application_type: config.isLoopback ? \"native\" : \"web\",\n    dpop_bound_access_tokens: true,\n  });\n}\n```\n\n**New code:**\n```typescript\nimport { buildClientMetadata } from \"@/lib/config\";\nimport { NextResponse } from \"next/server\";\n\n/**\n * OAuth Client Metadata Endpoint\n *\n * Returns OAuth client metadata according to RFC 7591.\n * In production mode, includes custom branding CSS for PDS OAuth pages.\n * In loopback mode, returns minimal metadata (PDS ignores it anyway).\n *\n * @see https://datatracker.ietf.org/doc/html/rfc7591\n */\nexport async function GET() {\n  return NextResponse.json(buildClientMetadata());\n}\n```\n\n## Dont\n- Do not add any logic to this file — all logic lives in buildClientMetadata\n- Do not import config or OAUTH_SCOPE directly (buildClientMetadata handles it)\n- Do not add error handling (the metadata is static/deterministic)","acceptance_criteria":"1. Route file imports buildClientMetadata from @/lib/config\n2. Route file does NOT import config or OAUTH_SCOPE directly\n3. GET handler returns NextResponse.json(buildClientMetadata())\n4. No inline metadata object remains\n5. JSDoc comment explains production vs loopback behavior\n6. TypeScript compiles without errors\n7. Visiting /client-metadata.json returns valid JSON with all required OAuth fields","status":"closed","priority":2,"issue_type":"task","assignee":"karma.gainforest.id","owner":"karma.gainforest.id","estimated_minutes":10,"created_at":"2026-02-16T12:30:43.916980721+06:00","created_by":"karma.gainforest.id","updated_at":"2026-02-16T14:24:30.247312679+06:00","closed_at":"2026-02-16T14:24:30.247312679+06:00","close_reason":"56cd67e refactor: update client-metadata.json route to use buildClientMetadata","labels":["scope:trivial"],"dependencies":[{"issue_id":"hypercerts-nyk.4","depends_on_id":"hypercerts-nyk","type":"parent-child","created_at":"2026-02-16T12:30:43.918836947+06:00","created_by":"karma.gainforest.id"},{"issue_id":"hypercerts-nyk.4","depends_on_id":"hypercerts-nyk.3","type":"blocks","created_at":"2026-02-16T12:30:43.921011202+06:00","created_by":"karma.gainforest.id"}]}
{"id":"hypercerts-nyk.5","title":"Document ngrok setup for local branding testing","description":"## Files\n- DEVELOPMENT.md (modify)\n\n## What to do\nAdd a section to DEVELOPMENT.md documenting how to test OAuth branding locally using ngrok.\n\n**Context:** ATProto OAuth loopback mode (localhost) cannot support branding CSS — the PDS auto-generates minimal metadata and ignores custom fields. To test branding locally, developers need a public HTTPS URL via a tunnel service.\n\n**Section to add (under a new heading \"Testing OAuth Branding Locally\"):**\n\n1. Explain WHY branding does not appear in local dev (ATProto spec limitation — loopback client_id only supports scope and redirect_uri params, PDS auto-generates metadata)\n2. Explain the ngrok workaround:\n   - Install ngrok: `npm install -g ngrok` or download from ngrok.com\n   - Start tunnel: `ngrok http 3000`\n   - Copy the HTTPS URL (e.g. `https://abc123.ngrok-free.app`)\n   - Set `NEXT_PUBLIC_BASE_URL=https://abc123.ngrok-free.app` in `.env.local`\n   - Restart dev server\n   - The app now enters production mode and serves full metadata with branding at `/client-metadata.json`\n3. Note that `next.config.ts` may need `allowedDevOrigins` configured for ngrok domains (reference existing task hypercerts-scaffold-r25 if it exists)\n4. Note that branding is automatically active on Vercel preview/production deployments — no ngrok needed there\n\n**Placement:** Add after the existing OAuth/authentication section in DEVELOPMENT.md. If no such section exists, add near the end before any appendix/reference sections.\n\n## Dont\n- Do not modify any code files\n- Do not add ngrok as a dependency\n- Do not add NGROK_DOMAIN to .env.example (optional, not required)","acceptance_criteria":"1. DEVELOPMENT.md contains a new section about testing OAuth branding locally\n2. Section explains the ATProto loopback limitation (why branding does not appear locally)\n3. Section includes step-by-step ngrok instructions\n4. Section mentions Vercel preview deployments work automatically\n5. No code files are modified","status":"closed","priority":3,"issue_type":"task","assignee":"karma.gainforest.id","owner":"karma.gainforest.id","estimated_minutes":15,"created_at":"2026-02-16T12:31:00.683521639+06:00","created_by":"karma.gainforest.id","updated_at":"2026-02-16T12:35:15.086210654+06:00","closed_at":"2026-02-16T12:35:15.086210654+06:00","close_reason":"76835d7 Document ngrok setup for OAuth branding testing","labels":["scope:trivial"],"dependencies":[{"issue_id":"hypercerts-nyk.5","depends_on_id":"hypercerts-nyk","type":"parent-child","created_at":"2026-02-16T12:31:00.685341788+06:00","created_by":"karma.gainforest.id"}]}
{"id":"hypercerts-nyk.6","title":"Update DEVELOPMENT.md to clarify PDS trusted client requirement for branding","description":"## Files\n- DEVELOPMENT.md (modify)\n\n## What to do\nUpdate the \"Testing OAuth Branding Locally\" section (around line 341) to clarify that branding CSS is only applied by the PDS for trusted client URLs.\n\n**Key corrections:**\n\n1. **Add a note at the top of the section** explaining that the PDS (`pds-eu-west4.test.certified.app`) only applies branding CSS for client URLs registered in its `PDS_OAUTH_TRUSTED_CLIENTS` environment variable. Random ngrok URLs or unregistered Vercel preview URLs will NOT show branding even though the metadata is served correctly.\n\n2. **Update the ngrok instructions** to clarify that:\n   - Ngrok is still useful for testing that the metadata endpoint serves branding CSS correctly (you can verify by visiting `/client-metadata.json` and checking the `branding` field)\n   - However, the PDS will NOT render the branding on its OAuth pages unless the ngrok URL is added to `PDS_OAUTH_TRUSTED_CLIENTS`\n   - For a stable ngrok domain (paid plan), you can request it be added to the trusted list\n\n3. **Add a subsection \"Getting your domain trusted by the PDS\"** explaining:\n   - To get a domain added to the PDS trusted clients list, contact @aspiers on GitHub\n   - Provide the full client_id URL (e.g. `https://your-app.vercel.app/client-metadata.json`)\n   - Production/stable URLs are preferred over ephemeral ngrok URLs\n\n4. **Update the Vercel section** to note that Vercel preview/production URLs also need to be in the trusted list for branding to appear on the PDS OAuth pages.\n\n5. **Keep the existing content about the ATProto loopback limitation** — that is still correct and separate from the trusted client issue.\n\n## Dont\n- Do not modify any code files\n- Do not remove the existing loopback limitation explanation (it is still correct)\n- Do not change the ngrok setup steps themselves (they are still valid for metadata testing)\n- Do not add any PDS configuration details beyond what is described above","acceptance_criteria":"1. DEVELOPMENT.md explains that PDS only applies branding for URLs in PDS_OAUTH_TRUSTED_CLIENTS\n2. Ngrok section clarifies branding will not render on PDS unless URL is trusted\n3. New subsection explains how to get a domain trusted (contact @aspiers on GitHub)\n4. Vercel section notes that preview/production URLs also need to be trusted\n5. Existing loopback limitation explanation is preserved unchanged\n6. No code files modified","status":"closed","priority":2,"issue_type":"task","assignee":"karma.gainforest.id","owner":"karma.gainforest.id","estimated_minutes":15,"created_at":"2026-02-16T15:41:38.035046062+06:00","created_by":"karma.gainforest.id","updated_at":"2026-02-16T15:43:00.583249811+06:00","closed_at":"2026-02-16T15:43:00.583249811+06:00","close_reason":"1ab09c9 clarify PDS trusted client requirement for OAuth branding","labels":["scope:trivial"],"dependencies":[{"issue_id":"hypercerts-nyk.6","depends_on_id":"hypercerts-nyk","type":"parent-child","created_at":"2026-02-16T15:41:38.036527347+06:00","created_by":"karma.gainforest.id"}]}
{"id":"hypercerts-p9n","title":"Epic: Document SDK Packaging and Enhance Developer Experience","status":"closed","priority":1,"issue_type":"epic","assignee":"kzoeps","owner":"kzoepa@gmail.com","created_at":"2026-02-13T11:18:09.88485984+06:00","created_by":"kzoeps","updated_at":"2026-02-13T11:28:40.447887994+06:00","closed_at":"2026-02-13T11:28:40.447887994+06:00","close_reason":"Completed all 7 documentation tasks: created DEVELOPMENT.md, added SDK warnings, enhanced loopback docs, improved prerequisites, updated .env.example, reorganized footer, and reviewed code examples"}
{"id":"hypercerts-p9n.1","title":"Create DEVELOPMENT.md with SDK version warnings and development guide","description":"Create a comprehensive DEVELOPMENT.md file covering: (1) Critical warning about unreleased SDK version (0.10.0-beta.8 from vendor/), (2) Explanation of packed packages and why we use them for dogfooding, (3) Warning that installing latest SDK may break scaffold, (4) Step-by-step instructions to update vendor SDK package manually, (5) Local development workflow and setup, (6) Contributing guidelines encouraging users to file issues for @kzoeps. This file serves as the technical reference for developers working with the scaffold.","status":"closed","priority":1,"issue_type":"task","assignee":"kzoeps","owner":"kzoepa@gmail.com","created_at":"2026-02-13T11:18:18.009152902+06:00","created_by":"kzoeps","updated_at":"2026-02-13T11:23:15.860547626+06:00","closed_at":"2026-02-13T11:23:15.860547626+06:00","close_reason":"Completed: 5ec8a6e - Created comprehensive DEVELOPMENT.md covering SDK version warnings, packed package explanation, update instructions, development workflow, troubleshooting, and contributing guidelines","dependencies":[{"issue_id":"hypercerts-p9n.1","depends_on_id":"hypercerts-p9n","type":"parent-child","created_at":"2026-02-13T11:18:18.010805084+06:00","created_by":"kzoeps"}]}
{"id":"hypercerts-p9n.2","title":"Add SDK version warning section to README.md","description":"Add a prominent '⚠️ Important: SDK Version \u0026 Breaking Changes' section to README.md immediately after the Quick Start section (around line 32). This section must explain: (1) Uses unreleased v0.10.0-beta.8 from vendor/, (2) Built from github.com/hypercerts-org/hypercerts-sdk not npm, (3) Purpose is dogfooding latest features, (4) Contains unreleased/unmerged changes, (5) Breaking changes expected, (6) Installing latest SDK may break scaffold, (7) Link to DEVELOPMENT.md for details, (8) Link to issues at github.com/hypercerts-org/hypercerts-scaffold-atproto with @kzoeps as maintainer. Depends on hypercerts-p9n.1 because DEVELOPMENT.md must exist to link to it.","status":"closed","priority":1,"issue_type":"task","assignee":"kzoeps","owner":"kzoepa@gmail.com","created_at":"2026-02-13T11:18:25.62233731+06:00","created_by":"kzoeps","updated_at":"2026-02-13T11:23:59.686592067+06:00","closed_at":"2026-02-13T11:23:59.686592067+06:00","close_reason":"Completed: 1e8c516 - Added SDK version warning section to README after Quick Start with all required details","dependencies":[{"issue_id":"hypercerts-p9n.2","depends_on_id":"hypercerts-p9n","type":"parent-child","created_at":"2026-02-13T11:18:25.623979997+06:00","created_by":"kzoeps"},{"issue_id":"hypercerts-p9n.2","depends_on_id":"hypercerts-p9n.1","type":"blocks","created_at":"2026-02-13T11:19:05.137659881+06:00","created_by":"kzoeps"}]}
{"id":"hypercerts-p9n.3","title":"Enhance README loopback configuration documentation","description":"Improve the existing loopback configuration docs in README.md: (1) Make Quick Start note more prominent (line 31) - emphasize OAuth requirement for 127.0.0.1, (2) Add TL;DR to 'Localhost Redirect' section (line 127) explaining that .env.local MUST use 127.0.0.1 for OAuth to work, (3) Add troubleshooting subsection with common OAuth issues (callback failed, invalid redirect_uri, redirect loops, ngrok issues). The loopback docs are already comprehensive, this task just enhances clarity and adds troubleshooting.","status":"closed","priority":2,"issue_type":"task","assignee":"kzoeps","owner":"kzoepa@gmail.com","created_at":"2026-02-13T11:18:33.299950647+06:00","created_by":"kzoeps","updated_at":"2026-02-13T11:24:57.350432049+06:00","closed_at":"2026-02-13T11:24:57.350432049+06:00","close_reason":"Completed: 2a3277f - Enhanced loopback docs with prominent OAuth requirement, TL;DR, and troubleshooting section","dependencies":[{"issue_id":"hypercerts-p9n.3","depends_on_id":"hypercerts-p9n","type":"parent-child","created_at":"2026-02-13T11:18:33.30151496+06:00","created_by":"kzoeps"}]}
{"id":"hypercerts-p9n.4","title":"Improve README prerequisites and installation section","description":"Update Prerequisites section (lines 5-10) in README.md to be more detailed and helpful: (1) Specify Node.js 20+ with nvm recommendation, (2) Mention pnpm explicitly with install command, (3) Expand Redis section with both local Docker and cloud options, (4) Clarify PDS account requirement, (5) Add note referencing DEVELOPMENT.md for SDK details. Update Quick Start section to mention pnpm explicitly and add Redis check before running dev server. Depends on hypercerts-p9n.1 because needs DEVELOPMENT.md to reference it.","status":"closed","priority":2,"issue_type":"task","assignee":"kzoeps","owner":"kzoepa@gmail.com","created_at":"2026-02-13T11:18:41.139193052+06:00","created_by":"kzoeps","updated_at":"2026-02-13T11:25:37.166639803+06:00","closed_at":"2026-02-13T11:25:37.166639803+06:00","close_reason":"Completed: e31646b - Updated prerequisites with detailed requirements and Quick Start with pnpm/Redis clarity","dependencies":[{"issue_id":"hypercerts-p9n.4","depends_on_id":"hypercerts-p9n","type":"parent-child","created_at":"2026-02-13T11:18:41.141044172+06:00","created_by":"kzoeps"},{"issue_id":"hypercerts-p9n.4","depends_on_id":"hypercerts-p9n.1","type":"blocks","created_at":"2026-02-13T11:19:05.725129883+06:00","created_by":"kzoeps"}]}
{"id":"hypercerts-p9n.5","title":"Update .env.example with SDK version reference","description":"Add a header comment block at the top of .env.example file explaining: (1) This scaffold uses unreleased packed SDK version, (2) Reference DEVELOPMENT.md for SDK details and breaking changes, (3) Reference README.md for setup instructions. This provides context for developers when they first copy the file. Depends on hypercerts-p9n.1 because needs DEVELOPMENT.md to reference it.","status":"closed","priority":2,"issue_type":"task","assignee":"kzoeps","owner":"kzoepa@gmail.com","created_at":"2026-02-13T11:18:47.282193967+06:00","created_by":"kzoeps","updated_at":"2026-02-13T11:26:10.199986381+06:00","closed_at":"2026-02-13T11:26:10.199986381+06:00","close_reason":"Completed: 4818387 - Added header comment with SDK version warning and references to DEVELOPMENT.md","dependencies":[{"issue_id":"hypercerts-p9n.5","depends_on_id":"hypercerts-p9n","type":"parent-child","created_at":"2026-02-13T11:18:47.283647269+06:00","created_by":"kzoeps"},{"issue_id":"hypercerts-p9n.5","depends_on_id":"hypercerts-p9n.1","type":"blocks","created_at":"2026-02-13T11:19:06.370792289+06:00","created_by":"kzoeps"}]}
{"id":"hypercerts-p9n.6","title":"Add DEVELOPMENT.md link to README footer","description":"Update the 'Learn More' section (around line 242) in README.md to add DEVELOPMENT.md as the first link under a new 'Scaffold Documentation' subsection. Also add links to report issues (github.com/hypercerts-org/hypercerts-scaffold-atproto/issues) and mention @kzoeps as maintainer. Reorganize external docs links into a separate subsection. Depends on hypercerts-p9n.1 because DEVELOPMENT.md must exist to link to it.","status":"closed","priority":3,"issue_type":"task","assignee":"kzoeps","owner":"kzoepa@gmail.com","created_at":"2026-02-13T11:18:53.526270655+06:00","created_by":"kzoeps","updated_at":"2026-02-13T11:26:50.075541431+06:00","closed_at":"2026-02-13T11:26:50.075541431+06:00","close_reason":"Completed: 9aee7d0 - Reorganized Learn More section with DEVELOPMENT.md, external docs, and issue reporting links","dependencies":[{"issue_id":"hypercerts-p9n.6","depends_on_id":"hypercerts-p9n","type":"parent-child","created_at":"2026-02-13T11:18:53.528019597+06:00","created_by":"kzoeps"},{"issue_id":"hypercerts-p9n.6","depends_on_id":"hypercerts-p9n.1","type":"blocks","created_at":"2026-02-13T11:19:06.902665893+06:00","created_by":"kzoeps"}]}
{"id":"hypercerts-p9n.7","title":"Review and update code examples in README","description":"Review all code snippets throughout README.md for accuracy with current codebase: (1) Check Authentication section code example (lines 170-187), (2) Check Repository Context section (lines 193-210), (3) Verify all imports are correct, (4) Verify function signatures match current SDK version, (5) Add helpful comments where appropriate, (6) Ensure examples follow best practices. This is a review/polish task to ensure documentation matches implementation.","status":"closed","priority":3,"issue_type":"task","assignee":"kzoeps","owner":"kzoepa@gmail.com","created_at":"2026-02-13T11:19:00.53603122+06:00","created_by":"kzoeps","updated_at":"2026-02-13T11:28:18.636827322+06:00","closed_at":"2026-02-13T11:28:18.636827322+06:00","close_reason":"Completed: 91d11f0 - Reviewed and improved all code examples, added simpler alternatives, fixed authentication flow description","dependencies":[{"issue_id":"hypercerts-p9n.7","depends_on_id":"hypercerts-p9n","type":"parent-child","created_at":"2026-02-13T11:19:00.537513614+06:00","created_by":"kzoeps"}]}
{"id":"hypercerts-scaffold-0go","title":"Simplify JWK key generation with script","status":"in_progress","priority":2,"issue_type":"feature","owner":"adam@hypercerts.org","created_at":"2026-01-28T17:13:26.340137246+13:00","created_by":"Adam Spiers","updated_at":"2026-01-28T17:13:32.702507218+13:00"}
{"id":"hypercerts-scaffold-9rb","title":"Migrate OAuth scopes from transitional to granular permissions","description":"Code is using transitional OAuth scopes (transition:generic). Should migrate to granular permissions like repo:* or use ScopePresets.FULL_ACCESS from @hypercerts-org/sdk-core.","status":"open","priority":3,"issue_type":"task","owner":"adam@hypercerts.org","created_at":"2026-01-29T00:00:26.475561542+13:00","created_by":"Adam Spiers","updated_at":"2026-01-29T00:00:26.475561542+13:00"}
{"id":"hypercerts-scaffold-cw2","title":"Add lock mechanism for ATProto credentials","description":"ATProto SDK warning: No lock mechanism provided. Credentials might get revoked. Need to implement a lock mechanism to prevent credential revocation.","status":"open","priority":3,"issue_type":"task","owner":"adam@hypercerts.org","created_at":"2026-01-29T00:00:28.611778943+13:00","created_by":"Adam Spiers","updated_at":"2026-01-29T00:00:28.611778943+13:00"}
{"id":"hypercerts-scaffold-mk1","title":"Fix private JWK format - replace 'use' with 'key_ops'","description":"CRITICAL: Private JWK with 'use' property is causing authentication to fail completely. Error chain: ERR_CRYPTO_INVALID_JWK → ERR_JWK_INVALID → Unable to create JWT. Users cannot log in. Need to replace 'use' with valid 'key_ops' in the JWK configuration.","status":"closed","priority":0,"issue_type":"task","owner":"adam@hypercerts.org","created_at":"2026-01-29T00:00:27.640799834+13:00","created_by":"Adam Spiers","updated_at":"2026-01-29T00:05:01.57288757+13:00","closed_at":"2026-01-29T00:05:01.57288757+13:00","close_reason":"Fixed by regenerating JWK with npm run generate-jwk. The script already correctly sets key_ops and removes the deprecated use property."}
{"id":"hypercerts-scaffold-r25","title":"Configure allowedDevOrigins in next.config for ngrok","description":"Next.js detected cross-origin request from ngrok domain to /_next/* resources. Future versions will require explicit configuration of allowedDevOrigins. See: https://nextjs.org/docs/app/api-reference/config/next-config-js/allowedDevOrigins","status":"open","priority":2,"issue_type":"task","owner":"adam@hypercerts.org","created_at":"2026-01-29T00:00:24.942442259+13:00","created_by":"Adam Spiers","updated_at":"2026-01-29T00:00:24.942442259+13:00"}
